<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Socket.io Test Client</title>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
  <h1>Socket.io JWT Auth Test</h1>

  <script>
    // Backend'den aldÄ±ÄŸÄ±n JWT token
    const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImVtYWlsIjoibWVsaWtlQGV4YW1wbGUuY29tIiwiaWF0IjoxNzUxOTcyOTkxLCJleHAiOjE3NTE5NzY1OTF9.x4_mkjr78-gYBVruqoehoKrPL1eLl6S3-Q4Q1CYmUnc"; 

    // Socket.io sunucusuna baÄŸlanÄ±rken token gÃ¶nder
    const socket = io("http://localhost:3000", {
      auth: { token }
    });

    // BaÄŸlantÄ± baÅŸarÄ±lÄ± olduÄŸunda
    socket.on("connect", () => {
      console.log("ğŸ”Œ Socket.io'ya baÄŸlandÄ±:", socket.id);
    });

    // Rezervasyon oluÅŸturuldu bildirimi
    socket.on("booking_created", (data) => {
      console.log("Yeni rezervasyon oluÅŸturuldu:", data);
    });

    // Rezervasyon gÃ¼ncellendi bildirimi
    socket.on("booking_updated", (data) => {
      console.log("Rezervasyon gÃ¼ncellendi:", data);
    });

    // Rezervasyon silindi bildirimi
    socket.on("booking_deleted", (data) => {
      console.log("Rezervasyon silindi:", data);
    });

    // BaÄŸlantÄ± kesildiÄŸinde
    socket.on("disconnect", () => {
      console.log("âŒ Socket.io baÄŸlantÄ±sÄ± kesildi");
    });
  </script>
</body>
</html>
